<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>제품 상세 페이지</title>

  <style>
    .result {
      font-size: 40px;
      font-weight:bold;
      color: #00462A;
      margin-top: 10px;
      text-align: left;
    }

    /* 슬라이드 컨테이너 스타일 */
    #slider {
      position: absolute;
      top: 15%;
      left: 10%;
      width: 30%;
      height: 20%;
      margin: 0 auto;
      overflow: hidden;
      z-index: 2;
    }

    /* 이미지 스타일 */
    #slider img {
      width: 70%;
      height: 100%;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      transition: opacity 0.5s ease-in-out;
    }

    /* 이전 버튼 스타일 */
    #prev,
    #next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: transparent;
      border: none;
      cursor: pointer;
    }

    #prev {
      left: 10px;
    }

    #next {
      right: 10px;
    }

    /* 버튼에 이미지 배경 설정 */
    #prev {
      background-image: url('prev.png');
      background-size: contain;
      background-repeat: no-repeat;
      width: 50px;
      height: 50px;
    }

    #next {
      background-image: url('next.png');
      background-size: contain;
      background-repeat: no-repeat;
      width: 50px;
      height: 50px;
    }

    .button {
      background-color: #D9D9D9;
      color: black;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 24px;
    }

    .button:hover {
      background-color: #A4C1AE;
      color: #FFFFFF;
    }

    .tab {
      display: inline-block;
      padding: 10px;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: color 0.3s;
    }

    .active {
      color: black;
      border-bottom: 3px solid black;
    }

    .content {
      display: none;
      margin-top: 10px;
    }

    .active-content {
      display: block;
    }

    .review {
      border: 1px solid #ccc;
      margin: 10px;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    .rating {
      color: gold;
    }
  </style>

</head>

<body>

  <div id="slider">
    <img src="image1.png" alt="이미지 1" class="slide active">
    <img src="image2.png" alt="이미지 2" class="slide">
    <img src="image3.png" alt="이미지 3" class="slide">
    <img src="image4.png" alt="이미지 4" class="slide">
    <img src="image5.png" alt="이미지 5" class="slide">
    <button id="prev"></button>
    <button id="next"></button>
  </div>

  <!--Header -->
  <div style="width: 100%; height: 100px; position: relative; background: yellow">
  </div>

  <!--상품 설명 -->
  <div style="width: 100%; height:1000px; position: relative; background: skyblue">
    <div
      style="width: 20%; height: 0px; left: 45%; top: 15%; position: absolute; transform: rotate(90deg); transform-origin: 0 0; border: 1px black solid">
    </div>
    <div
      style="left: 50%; top: 21%; position: absolute; color: black; font-size: 40px; font-family: Inter; font-weight: 700; word-wrap: break-word">
      Item Example</div>
    <div style="width: 20%; height: 0px; left: 50%; top: 37%; position: absolute; border: 1px black solid">
    </div>
    <div style="width: 20%; height: 0px; left: 50%; top: 45%; position: absolute; border: 1px black solid">
    </div>
    <div
      style="left: 50%; top: 30%; position: absolute; color: black; font-size: 24px; font-family: Inter; font-weight: 400; word-wrap: break-word">
      $10,000</div>
    <div style="left: 50%; top: 17%; position: absolute"><span
        style="color: #666666; font-size: 20px; font-family: Inter; font-weight: 400; word-wrap: break-word">제품 >
      </span><span
        style="color: black; font-size: 20px; font-family: Inter; font-weight: 700; word-wrap: break-word">식품</span>
    </div>

    <button class="button" onclick="addToCart(); location.href='cart_product.html';"
      style="width: 20%; height: 70px; left: 50%; top: 70%; position: absolute; border-radius: 32px">Add To
      Cart</button>
    <button class="button" onclick="buy(); location.href='purchase_product.html';"
      style="width: 20%; height: 70px; left: 50%; top: 82%; position: absolute; border-radius: 32px">Buy</button>

    <div
      style="width: 30%; height: 24px; left: 50%; top: 39%; position: absolute; font-size: 24px; font-family: Inter; font-weight: 300; line-height: 24px; word-wrap: break-word">
      <span style="color: #FFC700;">★★★★★</span> &nbsp
      <span style="color: black;">(5)&nbsp&nbsp&nbsp리뷰(99+)</span>
    </div>

    <div style="width: 30%; height: 24px; left: 50%; top: 48%; position: absolute; font-size: 36px; font-family: Inter; font-weight: 300; line-height: 24px; word-wrap: break-word;">
      <label for="quantity">수량:</label>
      <input type="number" id="quantity" name="quantity" min="1" max="9" value="1" style="font-size: 40px;">
    </div>
    <div class="result" id="result" style="position: absolute; left: 50%; top: 55%;"></div>
  </div>

  <!--상품 탭 -->
  <div style="width: 100%; height: 100px; position: relative; background: white">
    <div class="tab" id="detailsTab" onclick="showDetails()"
      style="left: 25%; top: 25px; position: absolute; color: #838383; font-size: 32px; font-family: Poppins; font-weight: 700; word-wrap: break-word">
      상세 설명</div>
    <div class="tab" id="reviewsTab" onclick="showReviews()"
      style="left: 50%; top: 25px; position: absolute; color: #838383; font-size: 32px; font-family: Poppins; font-weight: 700; word-wrap: break-word; transform: translateX(-50%);">
      리뷰(99+)</div>
    <div class="tab" id="sellerTab" onclick="alert('판매자 문의 화면으로 이동합니다!'); location.href='chat_product.html';"
      style="right: 25%; top: 25px; position: absolute; color: #838383; font-size: 32px; font-family: Fenix; font-weight: 700; word-wrap: break-word">
      판매자 문의</div>
  </div>

  <div id="detailsContent" class="content active-content"
    style="width: 100%; position: relative; background: white">
    <div
      style="width: 50%; margin: 0 auto; font-size: 24px; font-family: Inter, sans-serif; font-weight: 300; text-align: center; line-height: 1.5; word-wrap: break-word; overflow-wrap: break-word; padding: 20px;">
      수제 캔들입니다. 향 좋고 환경에도 좋습니다! Lorem ipsum dolor sit amet, consectetur adipiscing elit.
    </div>
  </div>

  <div id="reviewsContent" class="content"
    style="width: 100%; height: 600px; position: relative; background: white;">
    <div id="reviewsContainer" style="margin-top: 20px; width: 50%; margin-left: auto; margin-right: auto;"></div>
  </div>

  <!--Footer -->
  <div style="width: 100%; height: 554px; position: relative; background: pink">
  </div>

  <script>
    document.getElementById('quantity').addEventListener('input', function () {
      const quantity = parseInt(this.value, 10) || 0;
      const total = quantity * 10000;
      document.getElementById('result').innerText = `총 금액: ${total.toLocaleString()}원`;
    });

    document.getElementById('quantity').dispatchEvent(new Event('input'));


    const slides = document.querySelectorAll('.slide');
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    let currentSlide = 0;

    function showSlide(index) {
      slides.forEach((slide, idx) => {
        slide.style.opacity = idx === index ? '1' : '0';
      });
    }

    prev.addEventListener('click', () => {
      currentSlide = (currentSlide - 1 + slides.length) % slides.length;
      showSlide(currentSlide);
    });

    next.addEventListener('click', () => {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    });

    // 초기 슬라이드 표시
    showSlide(currentSlide);

    function addToCart() {
      alert("장바구니에 담았습니다!");
    }
    function buy() {
      alert("구매 화면으로 이동합니다!");
    }

    let reviewsAdded = false;

    function review(id, name, contents, rating, date, items) {
      var reviewsContainer = document.getElementById('reviewsContainer');
      var reviewDiv = document.createElement('div');
      reviewDiv.classList.add('review');

      reviewDiv.innerHTML = `
                <strong>${name} (${id})</strong><br>
                <div class="rating">${'★'.repeat(rating)}${'☆'.repeat(5 - rating)}</div>
                <small>${date} | 수제 캔들, ${items}개</small><br>
                <p>${contents}</p>
            `;

      // 클릭 이벤트 추가
      reviewDiv.addEventListener('click', function () {
        window.location.href = `review_detail.html?id=${id}`;
      });

      reviewsContainer.appendChild(reviewDiv);
    }

    function showDetails() {
      document.getElementById('detailsTab').classList.add('active');
      document.getElementById('reviewsTab').classList.remove('active');
      document.getElementById('detailsContent').classList.add('active-content');
      document.getElementById('reviewsContent').classList.remove('active-content');
    }

    function showReviews() {
      document.getElementById('reviewsTab').classList.add('active');
      document.getElementById('detailsTab').classList.remove('active');
      document.getElementById('reviewsContent').classList.add('active-content');
      document.getElementById('detailsContent').classList.remove('active-content');
      if (!reviewsAdded) {
        review("1", "오*원", "향도 너무 좋고, 생각보다 커서 오래 사용할 수 있을 것 같아요...", 5, "2024.10.19.", 1);
        review("2", "김*아", "친구에게 선물로 주려고 샀다가 저도 쓰고 싶어서 하나 더 샀...", 5, "2024.10.18.", 2);
        review("3", "박*하", "가족들에게 선물을 주려고 많이 샀습니다! 사용해본 캔들 중에...", 5, "2024.10.16.", 5);
        reviewsAdded = true;
      }
      const reviewsContainer = document.getElementById('reviewsContainer');
      reviewsContainer.style.display = 'block';
    }

  </script>

</body>

</html>
